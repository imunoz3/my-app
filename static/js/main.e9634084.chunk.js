(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{100:function(e,t,n){},101:function(e,t,n){"use strict";n.r(t);var s=n(0),a=n(29),c=n.n(a),r=n(13),i=n(14),o=n(16),l=n(15),j=n(26),u=n(2),h=n(30),b=n(103),d=n(104),p=(n(21),n(23)),O=n.n(p),m=n(1),g=function(e){Object(o.a)(n,e);var t=Object(l.a)(n);function n(){var e;return Object(r.a)(this,n),(e=t.call(this)).state={response:0,endpoint:"wss://tarea-3-websocket.2021-1.tallerdeintegracion.cl/flights"},e.componentDidMount=e.componentDidMount.bind(Object(h.a)(e)),e}return Object(i.a)(n,[{key:"componentDidMount",value:function(){var e=this,t=this.state.endpoint;O()(t).on("FLIGHTS",(function(t){e.setState({response:t})}))}},{key:"render",value:function(){this.state.response;return Object(m.jsx)("div",{children:Object(m.jsx)(b.a,{center:[45.4,-75.7],zoom:1.5,children:Object(m.jsx)(d.a,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:'\xa9 <a href="http://osm.org/copyright">OpenStreetMap</a> contributors'})})})}}]),n}(s.Component),f=function(e){Object(o.a)(n,e);var t=Object(l.a)(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"render",value:function(){return Object(m.jsxs)("div",{children:[Object(m.jsx)("h2",{children:"Flight Info"}),Object(m.jsx)("p",{children:"Mauris sem velit, vehicula eget sodales vitae, rhoncus eget sapien:"}),Object(m.jsxs)("ol",{children:[Object(m.jsx)("li",{children:"Nulla pulvinar diam"}),Object(m.jsx)("li",{children:"Facilisis bibendum"}),Object(m.jsx)("li",{children:"Vestibulum vulputate"}),Object(m.jsx)("li",{children:"Eget erat"}),Object(m.jsx)("li",{children:"Id porttitor"})]})]})}}]),n}(s.Component),x=n(59),v=function(e){Object(o.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(r.a)(this,n);for(var s=arguments.length,a=new Array(s),c=0;c<s;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={message:""},e}return Object(i.a)(n,[{key:"render",value:function(){var e=this;return Object(m.jsxs)("form",{action:".",onSubmit:function(t){t.preventDefault(),e.props.onSubmitMessage(e.state.message),e.setState({message:""})},children:[Object(m.jsx)("input",{type:"text",placeholder:"Enter message...",value:this.state.message,onChange:function(t){return e.setState({message:t.target.value})}}),Object(m.jsx)("input",{type:"submit",value:"Send"})]})}}]),n}(s.Component),y=function(e){var t=e.name,n=e.message;return Object(m.jsxs)("p",{children:[Object(m.jsx)("strong",{children:t})," ",Object(m.jsx)("em",{children:n})]})},w="wss://tarea-3-websocket.2021-1.tallerdeintegracion.cl/flights",S=function(e){Object(o.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(r.a)(this,n);for(var s=arguments.length,a=new Array(s),c=0;c<s;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={name:"Bob",messages:[]},e.ws=O()(w),e.addMessage=function(t){return e.setState((function(e){return{messages:[t].concat(Object(x.a)(e.messages))}}))},e.submitMessage=function(t){var n={name:e.state.name,message:t};e.ws.emit("CHAT",JSON.stringify(n)),e.addMessage(n)},e}return Object(i.a)(n,[{key:"componentDidMount",value:function(){var e=this;this.ws.onopen=function(){console.log("connected")},this.ws.on("CHAT",(function(t){var n=JSON.parse(t.data);e.addMessage(n)})),this.ws.onclose=function(){console.log("disconnected"),e.setState({ws:O()(w)})}}},{key:"render",value:function(){var e=this;return Object(m.jsxs)("div",{children:[Object(m.jsxs)("label",{htmlFor:"name",children:["Name:\xa0",Object(m.jsx)("input",{type:"text",id:"name",placeholder:"Enter your name...",value:this.state.name,onChange:function(t){return e.setState({name:t.target.value})}})]}),Object(m.jsx)(v,{ws:this.ws,onSubmitMessage:function(t){return e.submitMessage(t)}}),this.state.messages.map((function(e,t){return Object(m.jsx)(y,{message:e.message,name:e.name,date:e.date},t)}))]})}}]),n}(s.Component),M=function(e){Object(o.a)(n,e);var t=Object(l.a)(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"render",value:function(){return Object(m.jsx)(j.a,{children:Object(m.jsxs)("div",{children:[Object(m.jsx)("h1",{children:"FLIGHTS"}),Object(m.jsxs)("ul",{className:"header",children:[Object(m.jsx)("li",{children:Object(m.jsx)(j.b,{exact:!0,to:"/",children:"Mapa"})}),Object(m.jsx)("li",{children:Object(m.jsx)(j.b,{to:"/flight_info",children:"Flight Info"})}),Object(m.jsx)("li",{children:Object(m.jsx)(j.b,{to:"/chat",children:"Chat"})})]}),Object(m.jsxs)("div",{className:"content",children:["\xa0\xa0",Object(m.jsx)(u.a,{exact:!0,path:"/",component:g}),Object(m.jsx)(u.a,{path:"/flight_info",component:f}),Object(m.jsx)(u.a,{path:"/chat",component:S})]})]})})}}]),n}(s.Component);n(100);c.a.render(Object(m.jsx)(M,{}),document.getElementById("root"))}},[[101,1,2]]]);
//# sourceMappingURL=main.e9634084.chunk.js.map