{"version":3,"sources":["Mapa.js","FlightInfo.js","ChatInput.js","ChatMessage.js","Chat.js","Main.js","index.js"],"names":["Mapa","state","response","endpoint","componentDidMount","bind","this","socketIOClient","on","data","setState","MapContainer","center","zoom","TileLayer","url","attribution","Component","FlightInfo","ChatInput","message","action","onSubmit","e","preventDefault","props","onSubmitMessage","type","placeholder","value","onChange","target","name","URL","Chat","messages","ws","addMessage","submitMessage","messageString","emit","JSON","stringify","onopen","console","log","evt","parse","onclose","htmlFor","id","map","index","ChatMessage","date","Main","className","exact","to","path","component","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.e9634084.chunk.js","sourcesContent":["import React, { Component } from \"react\";\nimport { MapContainer, TileLayer, Marker, Popup } from 'react-leaflet'\nimport { Icon } from \"leaflet\";\n\n\nimport socketIOClient from \"socket.io-client\";\n\nclass Mapa extends Component {\n  constructor() {\n    super();\n    this.state = {\n        response: 0,\n        endpoint: \"wss://tarea-3-websocket.2021-1.tallerdeintegracion.cl/flights\"\n    };\n    this.componentDidMount = this.componentDidMount.bind(this);\n  }\n\n  componentDidMount() {\n    const {endpoint} = this.state;\n    const socket = socketIOClient(endpoint);\n    socket.on(\"FLIGHTS\", (data) => {\n      this.setState({response: data});\n    }\n  )}\n\n  render() {\n    const {response} = this.state;\n    return (\n      <div>\n        <MapContainer center={[45.4, -75.7]} zoom={1.5}>\n        <TileLayer\n          url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\n          attribution='&copy; <a href=\"http://osm.org/copyright\">OpenStreetMap</a> contributors'\n        />\n        </MapContainer>\n      </div>\n    );\n  }\n}\n \nexport default Mapa;","import React, { Component } from \"react\";\n \nclass FlightInfo extends Component {\n  render() {\n    return (\n      <div>\n        <h2>Flight Info</h2>\n        <p>Mauris sem velit, vehicula eget sodales vitae,\n        rhoncus eget sapien:</p>\n        <ol>\n          <li>Nulla pulvinar diam</li>\n          <li>Facilisis bibendum</li>\n          <li>Vestibulum vulputate</li>\n          <li>Eget erat</li>\n          <li>Id porttitor</li>\n        </ol>\n      </div>\n    );\n  }\n}\n \nexport default FlightInfo;","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\n\nclass ChatInput extends Component {\n  static propTypes = {\n    onSubmitMessage: PropTypes.func.isRequired,\n  }\n  state = {\n    message: '',\n  }\n\n  render() {\n    return (\n      <form\n        action=\".\"\n        onSubmit={e => {\n          e.preventDefault()\n          this.props.onSubmitMessage(this.state.message)\n          this.setState({ message: '' })\n        }}\n      >\n        <input\n          type=\"text\"\n          placeholder={'Enter message...'}\n          value={this.state.message}\n          onChange={e => this.setState({ message: e.target.value })}\n        />\n        <input type=\"submit\" value={'Send'} />\n      </form>\n    )\n  }\n}\n\nexport default ChatInput","import React from 'react'\n\nexport default ({ name, message }) =>\n  <p>\n    <strong>{name}</strong> <em>{message}</em>\n  </p>","import React, { Component } from 'react'\nimport ChatInput from './ChatInput'\nimport ChatMessage from './ChatMessage'\n\nimport socketIOClient from \"socket.io-client\";\nconst URL = 'wss://tarea-3-websocket.2021-1.tallerdeintegracion.cl/flights'\n\nclass Chat extends Component {\n  state = {\n    name: 'Bob',\n    messages: [],\n  }\n\n  ws = socketIOClient(URL);\n\n  componentDidMount() {\n    this.ws.onopen = () => {\n      // on connecting, do nothing but log it to the console\n      console.log('connected')\n    }\n\n    this.ws.on(\"CHAT\", (evt) => {\n      const message = JSON.parse(evt.data)\n      this.addMessage(message)\n    });\n\n    this.ws.onclose = () => {\n      console.log('disconnected')\n      // automatically try to reconnect on connection loss\n      this.setState({\n        ws: socketIOClient(URL),\n      })\n    }\n  }\n  addMessage = message =>\n    this.setState(state => ({ messages: [message, ...state.messages] }))\n\n  submitMessage = messageString => {\n    // on submitting the ChatInput form, send the message, add it to the list and reset the input\n    const message = { name: this.state.name, message: messageString }\n    this.ws.emit(\"CHAT\", JSON.stringify(message))\n    this.addMessage(message)\n  }\n\n  render() {\n    return (\n      <div>\n        <label htmlFor=\"name\">\n          Name:&nbsp;\n          <input\n            type=\"text\"\n            id={'name'}\n            placeholder={'Enter your name...'}\n            value={this.state.name}\n            onChange={e => this.setState({ name: e.target.value })}\n          />\n        </label>\n        <ChatInput\n          ws={this.ws}\n          onSubmitMessage={messageString => this.submitMessage(messageString)}\n        />\n        {this.state.messages.map((message, index) =>\n          <ChatMessage\n            key={index}\n            message={message.message}\n            name={message.name}\n            date={message.date}\n          />,\n        )}\n      </div>\n    )\n  }\n}\n\nexport default Chat","import React, { Component } from \"react\";\nimport {\n  Route,\n  NavLink,\n  HashRouter\n} from \"react-router-dom\";\n\nimport Mapa from \"./Mapa\";\nimport FlightInfo from \"./FlightInfo\";\nimport Chat from \"./Chat\";\n \nclass Main extends Component {\n  render() {\n    return (\n    <HashRouter>\n        <div>\n          <h1>FLIGHTS</h1>\n          <ul className=\"header\">\n            <li><NavLink exact to=\"/\">Mapa</NavLink></li>\n            <li><NavLink to=\"/flight_info\">Flight Info</NavLink></li>\n            <li><NavLink to=\"/chat\">Chat</NavLink></li>\n          </ul>\n          <div className=\"content\">\n            <Route exact path=\"/\" component={Mapa}/>\n            <Route path=\"/flight_info\" component={FlightInfo}/>\n            <Route path=\"/chat\" component={Chat}/>\n          </div>\n        </div>\n    </HashRouter>\n    );\n  }\n}\n \nexport default Main;","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport Main from \"./Main\";\nimport \"./index.css\";\n \nReactDOM.render(\n  <Main/>, \n  document.getElementById(\"root\")\n);"],"sourceRoot":""}