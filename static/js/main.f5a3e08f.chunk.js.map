{"version":3,"sources":["Mapa.js","FlightInfo.js","ChatInput.js","Chat.js","Main.js","index.js"],"names":["Mapa","state","response","endpoint","componentDidMount","bind","this","socketIOClient","on","data","setState","MapContainer","center","zoom","TileLayer","url","attribution","Component","FlightInfo","ChatInput","message","action","onSubmit","e","preventDefault","props","onSubmitMessage","type","placeholder","value","onChange","target","Chat","name","chat","ws","io","path","submitMessage","messageString","emit","date","Date","toLocaleDateString","map","idx","style","color","htmlFor","id","renderChat","Main","className","exact","to","component","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.f5a3e08f.chunk.js","sourcesContent":["import React, { Component } from \"react\";\nimport { MapContainer, TileLayer, Marker, Popup } from 'react-leaflet'\nimport { Icon } from \"leaflet\";\n\n\nimport socketIOClient from \"socket.io-client\";\n\nclass Mapa extends Component {\n  constructor() {\n    super();\n    this.state = {\n        response: 0,\n        endpoint: \"wss://tarea-3-websocket.2021-1.tallerdeintegracion.cl/flights\"\n    };\n    this.componentDidMount = this.componentDidMount.bind(this);\n  }\n\n  componentDidMount() {\n    const {endpoint} = this.state;\n    const socket = socketIOClient(endpoint);\n    socket.on(\"FLIGHTS\", (data) => {\n      this.setState({response: data});\n    }\n  )}\n\n  render() {\n    const {response} = this.state;\n    return (\n      <div>\n        <MapContainer center={[45.4, -75.7]} zoom={1.5}>\n        <TileLayer\n          url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\n          attribution='&copy; <a href=\"http://osm.org/copyright\">OpenStreetMap</a> contributors'\n        />\n        </MapContainer>\n      </div>\n    );\n  }\n}\n \nexport default Mapa;","import React, { Component } from \"react\";\n \nclass FlightInfo extends Component {\n  render() {\n    return (\n      <div>\n        <h2>Flight Info</h2>\n        <p>Mauris sem velit, vehicula eget sodales vitae,\n        rhoncus eget sapien:</p>\n        <ol>\n          <li>Nulla pulvinar diam</li>\n          <li>Facilisis bibendum</li>\n          <li>Vestibulum vulputate</li>\n          <li>Eget erat</li>\n          <li>Id porttitor</li>\n        </ol>\n      </div>\n    );\n  }\n}\n \nexport default FlightInfo;","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\n\nclass ChatInput extends Component {\n  static propTypes = {\n    onSubmitMessage: PropTypes.func.isRequired,\n  }\n  state = {\n    message: '',\n  }\n\n  render() {\n    return (\n      <form\n        action=\".\"\n        onSubmit={e => {\n          e.preventDefault()\n          this.props.onSubmitMessage(this.state.message)\n          this.setState({ message: '' })\n        }}\n      >\n        <input\n          type=\"text\"\n          placeholder={'Enter message...'}\n          value={this.state.message}\n          onChange={e => this.setState({ message: e.target.value })}\n        />\n        <input type=\"submit\" value={'Send'} />\n      </form>\n    )\n  }\n}\n\nexport default ChatInput","import React, { Component } from 'react'\nimport ChatInput from './ChatInput'\n\nimport io from \"socket.io-client\";\n\nclass Chat extends Component {\n  state = {\n    name: 'Bob',\n    chat: [],\n  }\n\n  ws = io('wss://tarea-3-websocket.2021-1.tallerdeintegracion.cl', {path: \"/flights\"});\n\n  componentDidMount() {\n    this.ws.on(\"CHAT\", (data) => {\n      data.date = new Date(data.date).toLocaleDateString('en-GB')\n      this.setState({\n        chat: [...this.state.chat, data]\n      });\n    });\n\n  }\n  submitMessage = messageString => {\n    // on submitting the ChatInput form, send the message, add it to the list and reset the input\n    this.ws.emit(\"CHAT\", { name: this.state.name, message: messageString })\n  }\n\n  renderChat() {\n    const { chat } = this.state;\n    return chat.map((data, idx) => (\n      <div key={idx}>\n        <span style={{ color: \"green\" }}>{data.name}:{data.date} </span>\n        <span>{data.message}</span>\n      </div>\n    ));\n  }\n\n  render() {\n    return (\n      <div>\n        <label htmlFor=\"name\">\n          Name:&nbsp;\n          <input\n            type=\"text\"\n            id={'name'}\n            placeholder={'Enter your name...'}\n            value={this.state.name}\n            onChange={e => this.setState({ name: e.target.value })}\n          />\n        </label>\n        <ChatInput\n          onSubmitMessage={messageString => this.submitMessage(messageString)}\n        />\n        <div>{this.renderChat()}</div>\n      </div>\n    )\n  }\n}\n\nexport default Chat\n","import React, { Component } from \"react\";\nimport {\n  Route,\n  NavLink,\n  HashRouter\n} from \"react-router-dom\";\n\nimport Mapa from \"./Mapa\";\nimport FlightInfo from \"./FlightInfo\";\nimport Chat from \"./Chat\";\n \nclass Main extends Component {\n  render() {\n    return (\n    <HashRouter>\n        <div>\n          <h1>FLIGHTS</h1>\n          <ul className=\"header\">\n            <li><NavLink exact to=\"/\">Mapa</NavLink></li>\n            <li><NavLink to=\"/flight_info\">Flight Info</NavLink></li>\n            <li><NavLink to=\"/chat\">Chat</NavLink></li>\n          </ul>\n          <div className=\"content\">\n            <Route exact path=\"/\" component={Mapa}/>\n            <Route path=\"/flight_info\" component={FlightInfo}/>\n            <Route path=\"/chat\" component={Chat}/>\n          </div>\n        </div>\n    </HashRouter>\n    );\n  }\n}\n \nexport default Main;","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport Main from \"./Main\";\nimport \"./index.css\";\n \nReactDOM.render(\n  <Main/>, \n  document.getElementById(\"root\")\n);"],"sourceRoot":""}