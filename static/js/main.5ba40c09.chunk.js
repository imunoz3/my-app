(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{103:function(t,e,n){},104:function(t,e,n){"use strict";n.r(e);var s=n(0),i=n(33),a=n.n(i),c=n(15),r=n(16),o=n(18),l=n(17),h=n(30),j=n(2),u=n(35),d=n(105),b=n(109),p=n(106),O=n(107),m=n(110),g=n(108),f=n(4),v=n.n(f),x=n(22),w=n.n(x),y=n(1),S={color:"lime"},k=(new v.a.Icon({iconUrl:"https://i.ya-webdesign.com/images/sample-png-image-download-3.png",iconRetinaUrl:"https://i.ya-webdesign.com/images/sample-png-image-download-3.png",iconAnchor:new v.a.Point(0,0),popupAnchor:new v.a.Point(16,0),shadowUrl:null,shadowSize:null,shadowAnchor:null,iconSize:new v.a.Point(32,32),className:"leaflet-div-icon"}),function(t){Object(o.a)(n,t);var e=Object(l.a)(n);function n(){var t;Object(c.a)(this,n);for(var s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];return(t=e.call.apply(e,[this].concat(i))).state={flights:[],positions:[]},t.ws=w()("wss://tarea-3-websocket.2021-1.tallerdeintegracion.cl",{path:"/flights"}),t}return Object(r.a)(n,[{key:"componentDidMount",value:function(){var t=this;this.ws.on("FLIGHTS",(function(e){t.setState({flights:e})})),this.ws.on("POSITION",(function(e){t.setState({positions:[].concat(Object(u.a)(t.state.positions),[e])})}))}},{key:"emitFlights",value:function(){this.ws.emit("FLIGHTS",{})}},{key:"render",value:function(){this.state.response;return Object(y.jsxs)("div",{children:[this.emitFlights(),Object(y.jsx)("div",{children:Object(y.jsxs)(d.a,{center:[45.4,-75.7],zoom:1.5,children:[Object(y.jsx)(b.a,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:'\xa9 <a href="http://osm.org/copyright">OpenStreetMap</a> contributors'}),this.state.flights.map((function(t){return Object(y.jsxs)("div",{children:[Object(y.jsx)(p.a,{position:[t.origin[0],t.origin[1]]}),Object(y.jsx)(p.a,{position:[t.destination[0],t.destination[1]]}),Object(y.jsx)(O.a,{pathOptions:S,positions:[[t.origin[0],t.origin[1]],[t.destination[0],t.destination[1]]]})]})})),this.state.positions.map((function(t){return Object(y.jsx)("div",{children:Object(y.jsx)(m.a,{center:[t.position[0],t.position[1]],children:Object(y.jsxs)(g.a,{children:["Avi\xf3n:",t.code]})})})}))]})})]})}}]),n}(s.Component)),A=function(t){Object(o.a)(n,t);var e=Object(l.a)(n);function n(){var t;Object(c.a)(this,n);for(var s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];return(t=e.call.apply(e,[this].concat(i))).state={flights:[]},t.ws=w()("wss://tarea-3-websocket.2021-1.tallerdeintegracion.cl",{path:"/flights"}),t}return Object(r.a)(n,[{key:"componentDidMount",value:function(){var t=this;this.ws.on("FLIGHTS",(function(e){t.setState({flights:e})}))}},{key:"emitFlights",value:function(){this.ws.emit("FLIGHTS",{})}},{key:"render",value:function(){var t=this;this.state.response;return Object(y.jsxs)("div",{children:[Object(y.jsx)("button",{onClick:function(){return t.emitFlights()},children:" Show Flights "}),Object(y.jsx)("div",{children:this.state.flights.map((function(t){return Object(y.jsxs)("p",{children:["Vuelo: ",t.code,Object(y.jsxs)("div",{children:["Aerol\xednea: ",t.airline]}),Object(y.jsxs)("div",{children:["Avi\xf3n: ",t.plane]}),Object(y.jsxs)("div",{children:["Origen: ",t.origin]}),Object(y.jsxs)("div",{children:["Destino: ",t.destination]}),Object(y.jsxs)("div",{children:["Asientos: ",t.seats]}),Object(y.jsxs)("div",{children:["Pasajeros:",t.passengers.map((function(t){return Object(y.jsxs)("div",{children:[t.name,", ",t.age]})}))]})]})}))})]})}}]),n}(s.Component),C=function(t){Object(o.a)(n,t);var e=Object(l.a)(n);function n(){var t;Object(c.a)(this,n);for(var s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];return(t=e.call.apply(e,[this].concat(i))).state={message:""},t}return Object(r.a)(n,[{key:"render",value:function(){var t=this;return Object(y.jsxs)("form",{action:".",onSubmit:function(e){e.preventDefault(),t.props.onSubmitMessage(t.state.message),t.setState({message:""})},children:[Object(y.jsx)("input",{type:"text",placeholder:"Enter message...",value:this.state.message,onChange:function(e){return t.setState({message:e.target.value})}}),Object(y.jsx)("input",{type:"submit",value:"Send"})]})}}]),n}(s.Component),F=function(t){Object(o.a)(n,t);var e=Object(l.a)(n);function n(){var t;Object(c.a)(this,n);for(var s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];return(t=e.call.apply(e,[this].concat(i))).state={name:"Bob",chat:[]},t.ws=w()("wss://tarea-3-websocket.2021-1.tallerdeintegracion.cl",{path:"/flights"}),t.submitMessage=function(e){t.ws.emit("CHAT",{name:t.state.name,message:e})},t}return Object(r.a)(n,[{key:"componentDidMount",value:function(){var t=this;this.ws.on("CHAT",(function(e){e.date=new Date(e.date).toLocaleDateString("en-GB"),t.setState({chat:[].concat(Object(u.a)(t.state.chat),[e])})}))}},{key:"renderChat",value:function(){return this.state.chat.map((function(t,e){return Object(y.jsxs)("div",{children:[Object(y.jsxs)("span",{style:{color:"green"},children:[t.name," (",t.date,"): "]}),Object(y.jsx)("span",{children:t.message})]},e)}))}},{key:"render",value:function(){var t=this;return Object(y.jsxs)("div",{children:[Object(y.jsxs)("label",{htmlFor:"name",children:["Name:\xa0",Object(y.jsx)("input",{type:"text",id:"name",placeholder:"Enter your name...",value:this.state.name,onChange:function(e){return t.setState({name:e.target.value})}})]}),Object(y.jsx)(C,{onSubmitMessage:function(e){return t.submitMessage(e)}}),Object(y.jsx)("div",{children:this.renderChat()})]})}}]),n}(s.Component),I=function(t){Object(o.a)(n,t);var e=Object(l.a)(n);function n(){return Object(c.a)(this,n),e.apply(this,arguments)}return Object(r.a)(n,[{key:"render",value:function(){return Object(y.jsx)(h.a,{children:Object(y.jsxs)("div",{children:[Object(y.jsx)("h1",{children:"FLIGHTS"}),Object(y.jsxs)("ul",{className:"header",children:[Object(y.jsx)("li",{children:Object(y.jsx)(h.b,{exact:!0,to:"/",children:"Mapa"})}),Object(y.jsx)("li",{children:Object(y.jsx)(h.b,{to:"/flight_info",children:"Flight Info"})}),Object(y.jsx)("li",{children:Object(y.jsx)(h.b,{to:"/chat",children:"Chat"})})]}),Object(y.jsxs)("div",{className:"content",children:["\xa0\xa0",Object(y.jsx)(j.a,{exact:!0,path:"/",component:k}),Object(y.jsx)(j.a,{path:"/flight_info",component:A}),Object(y.jsx)(j.a,{path:"/chat",component:F})]})]})})}}]),n}(s.Component);n(103);a.a.render(Object(y.jsx)(I,{}),document.getElementById("root"))}},[[104,1,2]]]);
//# sourceMappingURL=main.5ba40c09.chunk.js.map