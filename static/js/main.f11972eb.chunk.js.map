{"version":3,"sources":["Chat.js","Mapa.js","FlightInfo.js","Main.js","index.js"],"names":["socket","Mapa","state","response","endpoint","componentDidMount","bind","this","socketIOClient","on","data","setState","MapContainer","center","zoom","TileLayer","url","attribution","Component","FlightInfo","CONNECTION_PORT","Chat","useState","name","setUserName","message","setMessage","messageList","setMessageList","useEffect","io","path","sendMessage","a","messageContent","emit","type","placeholder","onChange","e","target","value","map","val","key","date","onClick","Main","className","exact","to","component","ReactDOM","render","document","getElementById"],"mappings":"mHAIIA,E,iICoCWC,E,kDAhCb,aAAe,IAAD,8BACZ,gBACKC,MAAQ,CACTC,SAAU,EACVC,SAAU,iEAEd,EAAKC,kBAAoB,EAAKA,kBAAkBC,KAAvB,gBANb,E,qDASd,WAAqB,IAAD,OACXF,EAAYG,KAAKL,MAAjBE,SACQI,IAAeJ,GACvBK,GAAG,WAAW,SAACC,GACpB,EAAKC,SAAS,CAACR,SAAUO,S,oBAI7B,WACqBH,KAAKL,MAAjBC,SACP,OACE,8BACE,cAACS,EAAA,EAAD,CAAcC,OAAQ,CAAC,MAAO,MAAOC,KAAM,IAA3C,SACA,cAACC,EAAA,EAAD,CACEC,IAAI,qDACJC,YAAY,mF,GAzBHC,aCcJC,E,4JAlBb,WACE,OACE,gCACE,6CACA,oGAEA,+BACE,qDACA,oDACA,sDACA,2CACA,wD,GAZeD,a,yCFGnBE,G,MAAkB,yDAoETC,MAlEf,WAAgB,MAEcC,mBAAS,IAFvB,mBAEPC,EAFO,KAEDC,EAFC,OAKgBF,mBAAS,IALzB,mBAKPG,EALO,KAKEC,EALF,OAMwBJ,mBAAS,IANjC,mBAMPK,EANO,KAMMC,EANN,KAQdC,qBAAU,WACR7B,EAAS8B,IAAGV,EAAiB,CAACW,KAAM,eACnC,CAACX,IAEJS,qBAAU,WACR7B,EAAOS,GAAG,QAAQ,SAACC,GACjBkB,EAAe,GAAD,mBAAKD,GAAL,CAAkBjB,WAIpC,IAAMsB,EAAW,uCAAG,4BAAAC,EAAA,6DACdC,EAAiB,CAACX,KAAMA,EAAME,QAASA,GADzB,SAGZzB,EAAOmC,KAAK,OAAQD,GAHR,OAIlBN,EAAe,GAAD,mBAAKD,GAAL,CAAkBO,KAChCR,EAAW,IALO,2CAAH,qDAQjB,OACE,gCACI,8BACE,8BACE,uBACEU,KAAK,OACLC,YAAY,UACZC,SAAU,SAACC,GACTf,EAAYe,EAAEC,OAAOC,cAK7B,gCACE,8BACGd,EAAYe,KAAI,SAACC,EAAKC,GACrB,OACE,8BACE,gCACGD,EAAIpB,KADP,IACcoB,EAAIE,KADlB,IACyBF,EAAIlB,kBAMrC,gCACE,uBACEW,KAAK,OACLC,YAAY,aACZC,SAAU,SAACC,GACTb,EAAWa,EAAEC,OAAOC,UAGxB,wBAAQK,QAASd,EAAjB,4BGjCGe,E,4JArBb,WACE,OACA,cAAC,IAAD,UACI,gCACE,yCACA,qBAAIC,UAAU,SAAd,UACE,6BAAI,cAAC,IAAD,CAASC,OAAK,EAACC,GAAG,IAAlB,oBACJ,6BAAI,cAAC,IAAD,CAASA,GAAG,eAAZ,2BACJ,6BAAI,cAAC,IAAD,CAASA,GAAG,QAAZ,uBAEN,sBAAKF,UAAU,UAAf,qBACE,cAAC,IAAD,CAAOC,OAAK,EAAClB,KAAK,IAAIoB,UAAWlD,IACjC,cAAC,IAAD,CAAO8B,KAAK,eAAeoB,UAAWhC,IACtC,cAAC,IAAD,CAAOY,KAAK,QAAQoB,UAAW9B,gB,GAdxBH,aCNnBkC,IAASC,OACP,cAAC,EAAD,IACAC,SAASC,eAAe,U","file":"static/js/main.f11972eb.chunk.js","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport io from \"socket.io-client\";\nimport \"./index.css\";\n\nlet socket;\nconst CONNECTION_PORT = 'wss://tarea-3-websocket.2021-1.tallerdeintegracion.cl'\n\nfunction Chat() {\n  // Before Login\n  const [name, setUserName] = useState(\"\");\n\n  // After Login\n  const [message, setMessage] = useState(\"\");\n  const [messageList, setMessageList] = useState([]);\n\n  useEffect(() => {\n    socket = io(CONNECTION_PORT, {path: \"/flights\"});\n  }, [CONNECTION_PORT]);\n\n  useEffect(() => {\n    socket.on(\"CHAT\", (data) => {\n      setMessageList([...messageList, data]);\n    });\n  });\n\n  const sendMessage = async () => {\n    let messageContent = {name: name, message: message};\n\n    await socket.emit(\"CHAT\", messageContent);\n    setMessageList([...messageList, messageContent]);\n    setMessage(\"\");\n  };\n\n  return (\n    <div>\n        <div>\n          <div>\n            <input\n              type=\"text\"\n              placeholder=\"Name...\"\n              onChange={(e) => {\n                setUserName(e.target.value);\n              }}\n            />\n          </div>\n        </div>\n        <div>\n          <div>\n            {messageList.map((val, key) => {\n              return (\n                <div>\n                  <div>\n                    {val.name}:{val.date} {val.message}\n                  </div>\n                </div>\n              );\n            })}\n          </div>\n          <div>\n            <input\n              type=\"text\"\n              placeholder=\"Message...\"\n              onChange={(e) => {\n                setMessage(e.target.value);\n              }}\n            />\n            <button onClick={sendMessage}>Send</button>\n          </div>\n        </div>\n    </div>\n  );\n}\n\nexport default Chat;","import React, { Component } from \"react\";\nimport { MapContainer, TileLayer, Marker, Popup } from 'react-leaflet'\nimport { Icon } from \"leaflet\";\n\n\nimport socketIOClient from \"socket.io-client\";\n\nclass Mapa extends Component {\n  constructor() {\n    super();\n    this.state = {\n        response: 0,\n        endpoint: \"wss://tarea-3-websocket.2021-1.tallerdeintegracion.cl/flights\"\n    };\n    this.componentDidMount = this.componentDidMount.bind(this);\n  }\n\n  componentDidMount() {\n    const {endpoint} = this.state;\n    const socket = socketIOClient(endpoint);\n    socket.on(\"FLIGHTS\", (data) => {\n      this.setState({response: data});\n    }\n  )}\n\n  render() {\n    const {response} = this.state;\n    return (\n      <div>\n        <MapContainer center={[45.4, -75.7]} zoom={1.5}>\n        <TileLayer\n          url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\n          attribution='&copy; <a href=\"http://osm.org/copyright\">OpenStreetMap</a> contributors'\n        />\n        </MapContainer>\n      </div>\n    );\n  }\n}\n \nexport default Mapa;","import React, { Component } from \"react\";\n \nclass FlightInfo extends Component {\n  render() {\n    return (\n      <div>\n        <h2>Flight Info</h2>\n        <p>Mauris sem velit, vehicula eget sodales vitae,\n        rhoncus eget sapien:</p>\n        <ol>\n          <li>Nulla pulvinar diam</li>\n          <li>Facilisis bibendum</li>\n          <li>Vestibulum vulputate</li>\n          <li>Eget erat</li>\n          <li>Id porttitor</li>\n        </ol>\n      </div>\n    );\n  }\n}\n \nexport default FlightInfo;","import React, { Component } from \"react\";\nimport {\n  Route,\n  NavLink,\n  HashRouter\n} from \"react-router-dom\";\n\nimport Mapa from \"./Mapa\";\nimport FlightInfo from \"./FlightInfo\";\nimport Chat from \"./Chat\";\n \nclass Main extends Component {\n  render() {\n    return (\n    <HashRouter>\n        <div>\n          <h1>FLIGHTS</h1>\n          <ul className=\"header\">\n            <li><NavLink exact to=\"/\">Mapa</NavLink></li>\n            <li><NavLink to=\"/flight_info\">Flight Info</NavLink></li>\n            <li><NavLink to=\"/chat\">Chat</NavLink></li>\n          </ul>\n          <div className=\"content\">\n            <Route exact path=\"/\" component={Mapa}/>\n            <Route path=\"/flight_info\" component={FlightInfo}/>\n            <Route path=\"/chat\" component={Chat}/>\n          </div>\n        </div>\n    </HashRouter>\n    );\n  }\n}\n \nexport default Main;","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport Main from \"./Main\";\nimport \"./index.css\";\n \nReactDOM.render(\n  <Main/>, \n  document.getElementById(\"root\")\n);"],"sourceRoot":""}